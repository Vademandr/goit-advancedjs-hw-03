{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_Mc16ejr6cQ3s1rv3AuM7sBDYNFrVKan3cwDMZWOgdClmP5Yav4a8NKNmRoTw41rh\";\n\nexport async function fetchBreeds() {\n    const response = await axios.get(\n      \"https://api.thecatapi.com/v1/breeds\"\n    );\n    return response.data;\n  }\n\nexport async function fetchCatByBreed(breedId){\n    const response = await axios.get(\n        `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n      );\n      return response.data;\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst body = document.querySelector('body');\nconst select = document.querySelector('.select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n \nselect.style.display = 'none';\n\ndocument.addEventListener(\"DOMContentLoaded\", markupCreate)\nselect.addEventListener('change', selectionHandler);\n\nasync function selectionHandler(){\n    const selectelem = select.children.selectElement; \n    const selectedOption = selectelem.options[selectelem.selectedIndex].value;\n        try {\n            catInfo.style.display = 'none';           \n            loader.style.display = 'block';           \n            const breed = await fetchCatByBreed(selectedOption);    \n            loader.style.display = 'none';    \n            renderCatInfo(breed)             \n     } catch (error) {       \n            body.innerHTML = `Oops! Something went wrong! Try reloading the page!`;\n            body.style.color = '#ff0000';\n        iziToast.error({\n            message: `Error fetching cat information! Try again!`,\n            position: 'topRight',\n            color: '#ff0000',\n          });  \n          console.log(`${error.message}`)\n     }\n     \n}\n\nasync function markupCreate(){\n    try {\n        const breeds = await fetchBreeds();    \n        loader.style.display = 'none';        \n        renderBreeds(breeds);                \n        select.style.display = 'flex';      \n    } catch (error) {   \n        body.innerHTML = `Oops! Something went wrong! Try reloading the page!`;\n        body.style.color = '#ff0000';\n        iziToast.error({\n            message: `Error fetching cat information! Try again!`,\n            position: 'topRight',\n            color: '#ff0000',\n          });\n          console.log(`${error.message}`)\n    }\n}\n\nfunction renderBreeds(breeds){\n    const markup = breeds.map(({id,name})=>{\n        return `<option value=\"${id}\">${name}</option>`;\n    }).join(\"\");\nselect.innerHTML = `<select class=\"breed-select\" id=\"selectElement\">${markup}</select>`\n\n}\n\nfunction renderCatInfo(breed){\n    catInfo.style.display = 'flex';\n    const markup = `<img class=\"cat-img\" src=\"${breed[0].url}\" alt=\"${breed[0].breeds[0].name}\"  />\n    <div class=\"breed-info\">\n      <h1 class=\"cat-name\">${breed[0].breeds[0].name}</h1>\n      <p class=\"description\">${breed[0].breeds[0].description}</p>\n      <h2 class=\"temperament\">Temperament:</h2>\n      <p class=\"temp-descr\">${breed[0].breeds[0].temperament}</p>\n    </div>\n    `\n    return catInfo.innerHTML = markup\n}"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","body","select","loader","catInfo","markupCreate","selectionHandler","selectelem","selectedOption","breed","renderCatInfo","error","iziToast","breeds","renderBreeds","markup","id","name"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,eAAeC,GAAc,CAIhC,OAHiB,MAAMD,EAAM,IAC3B,qCACN,GACoB,IACjB,CAEI,eAAeE,EAAgBC,EAAQ,CAIxC,OAHe,MAAMH,EAAM,IACzB,wDAAwDG,GAChE,GACsB,IACtB,CCZA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAO,MAAM,QAAU,OAEvB,SAAS,iBAAiB,mBAAoBG,CAAY,EAC1DH,EAAO,iBAAiB,SAAUI,CAAgB,EAElD,eAAeA,GAAkB,CAC7B,MAAMC,EAAaL,EAAO,SAAS,cAC7BM,EAAiBD,EAAW,QAAQA,EAAW,eAAe,MAChE,GAAI,CACAH,EAAQ,MAAM,QAAU,OACxBD,EAAO,MAAM,QAAU,QACvB,MAAMM,EAAQ,MAAMV,EAAgBS,CAAc,EAClDL,EAAO,MAAM,QAAU,OACvBO,EAAcD,CAAK,CACzB,OAAQE,EAAP,CACKV,EAAK,UAAY,sDACjBA,EAAK,MAAM,MAAQ,UACvBW,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,WACV,MAAO,SACnB,CAAW,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CAClC,CAEN,CAEA,eAAeN,GAAc,CACzB,GAAI,CACA,MAAMQ,EAAS,MAAMf,IACrBK,EAAO,MAAM,QAAU,OACvBW,EAAaD,CAAM,EACnBX,EAAO,MAAM,QAAU,MAC1B,OAAQS,EAAP,CACEV,EAAK,UAAY,sDACjBA,EAAK,MAAM,MAAQ,UACnBW,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,WACV,MAAO,SACnB,CAAW,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CACnC,CACL,CAEA,SAASG,EAAaD,EAAO,CACzB,MAAME,EAASF,EAAO,IAAI,CAAC,CAAC,GAAAG,EAAG,KAAAC,CAAI,IACxB,kBAAkBD,MAAOC,YACnC,EAAE,KAAK,EAAE,EACdf,EAAO,UAAY,mDAAmDa,YAEtE,CAEA,SAASL,EAAcD,EAAM,CACzBL,EAAQ,MAAM,QAAU,OACxB,MAAMW,EAAS,6BAA6BN,EAAM,GAAG,aAAaA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,6BAE5DA,EAAM,GAAG,OAAO,GAAG;AAAA,+BACjBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,8BAEpBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,MAG7C,OAAOL,EAAQ,UAAYW,CAC/B"}